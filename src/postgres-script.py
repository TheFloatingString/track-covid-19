import sys
import os
sys.path.append(os.path.join(os.path.dirname(__file__), '..'))

from db.models import TransitLine

from sqlalchemy import create_engine, text
from sqlalchemy.orm import sessionmaker

engine = create_engine(os.environ["DATABASE_URL"], echo = True)

Session = sessionmaker()
Session.configure(bind=engine)
session = Session()

line = TransitLine()
# line.create_entry(name="STM 106",
# 	alert=True,
# 	coordinates=[[]],
# 	description="""106 bus from boulevard Newman toward Angrignon metro station	March 10, between 10:40 a.m. and 10:50 a.m.	March 24, 2020""")
# session.add(line)
# session.commit()


for line in session.query(TransitLine):
	print(line.id, line.name)


# session.query(User.name).filter(User.id == 1)
x = session.query(TransitLine).filter(TransitLine.id==4).first()
print(x)
x.coordinates=[[45.42549999999291, -73.64798099999999], [45.42552699999292, -73.64798099999999], [45.4255739999929, -73.64799399999998], [45.425575999992915, -73.64799499999998], [45.425578999992915, -73.64799699999999], [45.42568799999291, -73.64807499999999], [45.42576799999291, -73.64815699999998], [45.42579699999291, -73.64821299999998], [45.42548999999291, -73.64905599999999], [45.42541199999291, -73.64927699999998], [45.4253919999929, -73.64933399999998], [45.42526999999291, -73.64967799999998], [45.425212999992915, -73.64977199999998], [45.42494499999291, -73.64989799999998], [45.42485499999291, -73.64993999999997], [45.424621999992915, -73.650043], [45.42456599999291, -73.65006699999999], [45.423755999992906, -73.650397], [45.42329599999291, -73.65063199999997], [45.42312899999291, -73.65071699999997], [45.42307299999291, -73.65067599999999], [45.422004999992915, -73.64805199999999], [45.42196299999291, -73.64794999999998], [45.421947999992916, -73.64790399999998], [45.42174499999291, -73.64708199999998], [45.42113999999291, -73.64731699999999], [45.420920999992916, -73.64740299999998], [45.42059099999291, -73.647533], [45.420583999992914, -73.64753399999998], [45.42057999999291, -73.647533], [45.42048999999292, -73.64748099999998], [45.42048599999292, -73.64747899999999], [45.42048299999291, -73.64747299999999], [45.41991699999292, -73.64655199999999], [45.41942899999292, -73.64574399999998], [45.419251999992916, -73.645453], [45.41910899999292, -73.64523499999999], [45.41910799999292, -73.645234], [45.41910599999292, -73.64522699999999], [45.418979999992914, -73.64482999999998], [45.418798999992916, -73.64391899999998], [45.418743999992905, -73.64364299999998], [45.41874899999291, -73.643578], [45.41950599999292, -73.64321699999999], [45.419540999992925, -73.64320199999999], [45.42032099999291, -73.642853], [45.420441999992924, -73.64279799999998], [45.420475999992924, -73.64278099999999], [45.42197299999291, -73.64204799999999], [45.422007999992914, -73.64203299999998], [45.422884999992924, -73.64161199999998], [45.42297699999292, -73.64156699999998], [45.42301999999292, -73.64154599999999], [45.423042999992916, -73.64153299999998], [45.42308499999292, -73.64151499999998], [45.42312899999291, -73.64149599999999], [45.42340299999291, -73.64136699999999], [45.42403499999293, -73.64106899999999], [45.424068999992905, -73.64105399999998], [45.425587999992906, -73.64032199999998], [45.42649399999291, -73.63988299999998], [45.42689799999291, -73.639688], [45.42829399999292, -73.63904799999999], [45.42832699999292, -73.639031], [45.42871399999291, -73.63882499999998], [45.42884799999291, -73.63871199999998], [45.4289479999929, -73.63864699999999], [45.4289589999929, -73.63863999999998], [45.4290719999929, -73.63857199999998], [45.429139999992906, -73.63848899999999], [45.42920499999292, -73.63836899999998], [45.429224999992904, -73.63832799999999], [45.429965999992916, -73.63620799999998], [45.4302469999929, -73.63542299999999], [45.4302539999929, -73.63540599999999], [45.43035099999291, -73.63515599999998], [45.43048199999289, -73.63481999999999], [45.430506999992915, -73.63475799999999], [45.430536999992896, -73.63467999999999], [45.43056099999289, -73.634615], [45.4307919999929, -73.63397], [45.43087299999291, -73.63374099999999], [45.43091599999291, -73.63362], [45.43125099999291, -73.63269599999998], [45.43132899999289, -73.63247999999999], [45.43193399999289, -73.63081799999999], [45.4321509999929, -73.63031799999999], [45.432218999992905, -73.63018799999999], [45.43238499999289, -73.62986599999999], [45.4324299999929, -73.62979199999998], [45.43262299999289, -73.62949699999999], [45.432821999992896, -73.62921399999999], [45.43330099999291, -73.62871499999999], [45.433581999992896, -73.62841199999998], [45.43629299999291, -73.62548699999999], [45.436435999992895, -73.62533399999998], [45.4364649999929, -73.62530099999998], [45.43770699999291, -73.623963], [45.43803099999289, -73.623613], [45.43914799999289, -73.622407], [45.439384999992896, -73.62214999999999], [45.4394159999929, -73.62211099999999], [45.43966699999289, -73.62174299999998], [45.43994699999289, -73.62128299999999], [45.440536999992894, -73.62024699999999], [45.440622999992904, -73.620096], [45.4406259999929, -73.62009199999999], [45.44062999999289, -73.62008799999998], [45.44064299999288, -73.62007999999999], [45.4412289999929, -73.61902999999998], [45.44134599999289, -73.61881899999999], [45.4413689999929, -73.61877599999998], [45.441498999992895, -73.61853699999999], [45.441532999992894, -73.61847499999999], [45.44245299999289, -73.61686599999999], [45.44267799999289, -73.61647499999998], [45.44355299999289, -73.61496199999999], [45.4440139999929, -73.614298], [45.444101999992895, -73.614171], [45.44412899999289, -73.61413599999999], [45.44426999999289, -73.61396099999999], [45.4443289999929, -73.61388699999999], [45.44571199999289, -73.61211599999999], [45.445830999992886, -73.61196299999999], [45.44585799999289, -73.61192999999999], [45.445902999992896, -73.61187499999998], [45.445929999992885, -73.61183999999999], [45.4468519999929, -73.61067099999998], [45.44725699999289, -73.61016299999999], [45.44743299999289, -73.60986199999999], [45.447437999992886, -73.60984899999998], [45.44749399999288, -73.60966599999999], [45.447502999992885, -73.60949699999999], [45.44745999999288, -73.60927899999999], [45.447208999992895, -73.60875699999998], [45.44705699999289, -73.60835899999998], [45.4470559999929, -73.60835599999999], [45.44705499999289, -73.60835199999998], [45.446973999992885, -73.60795299999998], [45.4469469999929, -73.60764299999998], [45.446946999992896, -73.60758399999999], [45.446946999992896, -73.60740999999999], [45.44695699999289, -73.60690999999998], [45.446992999992894, -73.60629499999999], [45.44706599999288, -73.60531099999999], [45.44707499999288, -73.60492799999999], [45.44701999999289, -73.60487799999999], [45.446942999992885, -73.60486599999999], [45.44688499999288, -73.60486599999999], [45.44683299999289, -73.60488999999998], [45.44682399999289, -73.60489099999998], [45.446816999992905, -73.60488599999998], [45.446778999992894, -73.60484699999999], [45.44672599999289, -73.60475699999999], [45.44643699999289, -73.60445499999999], [45.44639299999289, -73.60454799999998], [45.44625699999289, -73.604817], [45.4462109999929, -73.60488299999999], [45.4462079999929, -73.60488599999998], [45.446202999992884, -73.60488899999999], [45.44614899999288, -73.60491399999998], [45.44614299999289, -73.60491599999999], [45.44613799999289, -73.60491399999998], [45.446063999992894, -73.60487499999999], [45.44600799999289, -73.60482199999998], [45.446005999992884, -73.60481999999999], [45.446002999992885, -73.604813], [45.44596699999288, -73.60472399999999], [45.445963999992884, -73.60471599999998], [45.445963999992884, -73.60470799999999], [45.4459729999929, -73.60459299999998], [45.44597399999287, -73.60458899999999], [45.44597399999288, -73.60458699999998], [45.4460009999929, -73.60448499999998], [45.44600199999289, -73.60448199999999], [45.44600499999289, -73.60447699999999], [45.44612199999288, -73.604285], [45.44612499999289, -73.60428199999998], [45.4461259999929, -73.60427999999999], [45.446188999992884, -73.60422399999999], [45.446188999992884, -73.60322399999998], [45.4461259999929, -73.60327999999998], [45.44612499999289, -73.60328199999998], [45.44612199999288, -73.603285], [45.44600499999289, -73.60347699999998], [45.44600199999289, -73.60348199999999], [45.4460009999929, -73.60348499999998], [45.44597399999288, -73.60358699999998], [45.44597399999287, -73.60358899999999], [45.4459729999929, -73.60359299999998], [45.445963999992884, -73.60370799999998], [45.445963999992884, -73.60371599999998], [45.44596699999288, -73.60372399999999], [45.446002999992885, -73.60381299999999], [45.446005999992884, -73.60381999999998], [45.44600799999289, -73.60382199999998], [45.446063999992894, -73.60387499999999], [45.44613799999289, -73.60391399999997], [45.44614299999289, -73.60391599999998], [45.44614899999288, -73.60391399999997], [45.446202999992884, -73.60388899999998], [45.4462079999929, -73.60388599999997], [45.4462109999929, -73.60388299999998], [45.44625699999289, -73.60381699999999], [45.44639299999289, -73.60354799999998], [45.44643699999289, -73.60345499999998], [45.44672599999289, -73.60375699999999], [45.446778999992894, -73.60384699999999], [45.446816999992905, -73.60388599999997], [45.44682399999289, -73.60389099999998], [45.44683299999289, -73.60388999999998], [45.44688499999288, -73.60386599999998], [45.446942999992885, -73.60386599999998], [45.44701999999289, -73.60387799999998], [45.44707499999288, -73.60392799999998], [45.44706599999288, -73.60431099999998], [45.446992999992894, -73.60529499999998], [45.44695699999289, -73.60590999999998], [45.446946999992896, -73.60640999999998], [45.446946999992896, -73.60658399999998], [45.4469469999929, -73.60664299999998], [45.446973999992885, -73.60695299999998], [45.44705499999289, -73.60735199999998], [45.4470559999929, -73.60735599999998], [45.44705699999289, -73.60735899999997], [45.447208999992895, -73.60775699999998], [45.44745999999288, -73.60827899999998], [45.447502999992885, -73.60849699999999], [45.44749399999288, -73.60866599999999], [45.447437999992886, -73.60884899999998], [45.44743299999289, -73.60886199999999], [45.44725699999289, -73.60916299999998], [45.4468519999929, -73.60967099999998], [45.445929999992885, -73.61083999999998], [45.445902999992896, -73.61087499999998], [45.44585799999289, -73.61092999999998], [45.445830999992886, -73.61096299999998], [45.44571199999289, -73.61111599999998], [45.4443289999929, -73.61288699999999], [45.44426999999289, -73.61296099999998], [45.44412899999289, -73.61313599999998], [45.444101999992895, -73.613171], [45.4440139999929, -73.613298], [45.44355299999289, -73.61396199999999], [45.44267799999289, -73.61547499999998], [45.44245299999289, -73.61586599999998], [45.441532999992894, -73.61747499999998], [45.441498999992895, -73.61753699999998], [45.4413689999929, -73.61777599999998], [45.44134599999289, -73.61781899999998], [45.4412289999929, -73.61802999999998], [45.44064299999288, -73.61907999999998], [45.44062999999289, -73.61908799999998], [45.4406259999929, -73.61909199999998], [45.440622999992904, -73.619096], [45.440536999992894, -73.61924699999999], [45.43994699999289, -73.62028299999999], [45.43966699999289, -73.62074299999998], [45.4394159999929, -73.62111099999998], [45.439384999992896, -73.62114999999999], [45.43914799999289, -73.62140699999999], [45.43803099999289, -73.622613], [45.43770699999291, -73.622963], [45.4364649999929, -73.62430099999997], [45.436435999992895, -73.62433399999998], [45.43629299999291, -73.62448699999999], [45.433581999992896, -73.62741199999998], [45.43330099999291, -73.62771499999998], [45.432821999992896, -73.62821399999999], [45.43262299999289, -73.62849699999998], [45.4324299999929, -73.62879199999998], [45.43238499999289, -73.62886599999999], [45.432218999992905, -73.62918799999998], [45.4321509999929, -73.62931799999998], [45.43193399999289, -73.62981799999999], [45.43132899999289, -73.63147999999998], [45.43125099999291, -73.63169599999998], [45.43091599999291, -73.63261999999999], [45.43087299999291, -73.63274099999998], [45.4307919999929, -73.63297], [45.43056099999289, -73.63361499999999], [45.430536999992896, -73.63367999999998], [45.430506999992915, -73.63375799999999], [45.43048199999289, -73.63381999999999], [45.43035099999291, -73.63415599999998], [45.4302539999929, -73.63440599999998], [45.4302469999929, -73.63442299999998], [45.429965999992916, -73.63520799999998], [45.429224999992904, -73.63732799999998], [45.42920499999292, -73.63736899999998], [45.429139999992906, -73.63748899999999], [45.4290719999929, -73.63757199999998], [45.4289589999929, -73.63763999999998], [45.4289479999929, -73.63764699999999], [45.42884799999291, -73.63771199999998], [45.42871399999291, -73.63782499999998], [45.42832699999292, -73.638031], [45.42829399999292, -73.63804799999998], [45.42689799999291, -73.638688], [45.42649399999291, -73.63888299999998], [45.425587999992906, -73.63932199999998], [45.424068999992905, -73.64005399999998], [45.42403499999293, -73.64006899999998], [45.42340299999291, -73.64036699999998], [45.42312899999291, -73.64049599999998], [45.42308499999292, -73.64051499999998], [45.423042999992916, -73.64053299999998], [45.42301999999292, -73.64054599999999], [45.42297699999292, -73.64056699999998], [45.422884999992924, -73.64061199999998], [45.422007999992914, -73.64103299999998], [45.42197299999291, -73.64104799999998], [45.420475999992924, -73.64178099999998], [45.420441999992924, -73.64179799999998], [45.42032099999291, -73.641853], [45.419540999992925, -73.64220199999998], [45.41950599999292, -73.64221699999999], [45.41874899999291, -73.642578], [45.418743999992905, -73.64264299999998], [45.418798999992916, -73.64291899999998], [45.418979999992914, -73.64382999999998], [45.41910599999292, -73.64422699999999], [45.41910799999292, -73.644234], [45.41910899999292, -73.64423499999998], [45.419251999992916, -73.644453], [45.41942899999292, -73.64474399999997], [45.41991699999292, -73.64555199999998], [45.42048299999291, -73.64647299999999], [45.42048599999292, -73.64647899999999], [45.42048999999292, -73.64648099999998], [45.42057999999291, -73.64653299999999], [45.420583999992914, -73.64653399999997], [45.42059099999291, -73.64653299999999], [45.420920999992916, -73.64640299999998], [45.42113999999291, -73.64631699999998], [45.42174499999291, -73.64608199999998], [45.421947999992916, -73.64690399999998], [45.42196299999291, -73.64694999999998], [45.422004999992915, -73.64705199999999], [45.42307299999291, -73.64967599999999], [45.42312899999291, -73.64971699999997], [45.42329599999291, -73.64963199999997], [45.423755999992906, -73.649397], [45.42456599999291, -73.64906699999999], [45.424621999992915, -73.64904299999999], [45.42485499999291, -73.64893999999997], [45.42494499999291, -73.64889799999997], [45.425212999992915, -73.64877199999998], [45.42526999999291, -73.64867799999998], [45.4253919999929, -73.64833399999998], [45.42541199999291, -73.64827699999998], [45.42548999999291, -73.64805599999998], [45.42579699999291, -73.64721299999998], [45.42576799999291, -73.64715699999998], [45.42568799999291, -73.64707499999999], [45.425578999992915, -73.64699699999998], [45.425575999992915, -73.64699499999998], [45.4255739999929, -73.64699399999998], [45.42552699999292, -73.64698099999998], [45.42549999999291, -73.64698099999998], [45.42549999999291, -73.64798099999999]]
session.add(x)
session.commit()
